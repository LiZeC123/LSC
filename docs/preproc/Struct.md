编译预处理程序结构分析
----------------------

从编译器的角度来看, 如果仅仅支持#include指令, 则预处理器实际仅仅需要进行文本的复制操作即可. 如果需要进一步实现#define指令, 则还需要对源文件进行词法分析, 以便于能正确的将宏进行替换. 处于简化开发的目的, 我们可以将#define定义的宏直接使用正则表达式之类的工具直接进行替换.

目前考虑开发对于#include指令以及#define指令的支持, 其中#define指令仅支持定义常量. 由于此番简化后所有的预处理指令都独占一行, 因此可以按行读取原文件, 依据指令进行相应的替换, 从而避免了对源文件进行词法分析等操作.



#### include指令
要处理#include指令,只需要识别除文件名和文件类型即可. 和C类似,lsc提供两个添加头文件的方法,即
``` c
#include <sys.h>
#include "my.h" 
```

其中使用尖括号的文件将会区lsc编译系统规定的目录寻找,使用引号的文件将会在当前目录下寻找.

识别完成后, 打开相应的文件, 将内容逐行赋值到新的文件即可.


#### define指令
一般#define指令定义常量的格式如下
``` c
#define marco content
```
例如
``` c
#define SIZE 255

#define format "The Number is %3d"
```
由于lsc语言实际可以使用的常量仅有数字, 字符串,以及字符. 因此根据不同类型的值,简单分析其数据类型以后即可进行转换, 例如上例中的两个宏可以分别替换为
``` c
int SIZE = 255;
char* format = "The Number is %3d";
```