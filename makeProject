#! /bin/bash

if [ $1x == "ass"x ]
then
	cd ./ass
	make
elif [ $1x == "compile"x ]
then
	cd ./compile
	make
elif [ $1x == "lit"x ]
then
	cd ./lit
	make
elif [ $1x == "pre"x ]
then
	cd ./preproc
	make
elif [ $1x == "clear"x ]
then
	cd ./compile
	make clear
	cd ../ass
	make clear
	cd ../lit
	make clear
	cd ../preproc
	make clear
	cd ../stdlib
	rm -f *.o
else
	cd ./compile
	make -j8
	cd ../ass
	make -j8
	cd ../lit
	make -j8
	cd ../preproc
	make -j8
	cd ../stdlib
	../ass/lsca start.s
	../ass/lsca stdlib.s
	cd ..
	g++ main.cpp -o lsc -std=c++11
fi